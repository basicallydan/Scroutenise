var DirectionsRouteHelpers={getPathAsLatLngArray:function(d,l){if(typeof l==="undefined"){l=0}var k=d.routes[0].legs[0],h=k.distance.value,n=[];for(var f=0;f<k.steps.length;f++){var c=k.steps[f].start_location;var e=f+1<k.steps.length?k.steps[f+1].start_location:k.steps[f].end_location;var g=k.steps[f].distance.value;n.push(c);if(g>l){var j=Math.round(g/l);var b=k.steps[f].path.length/j;for(var m=1;m<k.steps[f].path.length;m+=b){var a=Math.round(m);if(a<k.steps[f].path.length-1&&a>0){n.push(k.steps[f].path[a])}}}}return n}};if(typeof(google.maps.LatLng.pointAtAngleWithRadius)==="undefined"){google.maps.LatLng.prototype.pointAtAngleWithRadius=function(c,f){var g=this.lat();var h=this.lng();var i=6371000;f=typeof(f)=="number"?f:typeof(f)=="string"&&f.trim()!=""?+f:NaN;f=f/i;c=c.toRad();var b=g.toRad(),e=h.toRad();var a=Math.asin(Math.sin(b)*Math.cos(f)+Math.cos(b)*Math.sin(f)*Math.cos(c));var d=e+Math.atan2(Math.sin(c)*Math.sin(f)*Math.cos(b),Math.cos(f)-Math.sin(b)*Math.sin(a));d=(d+3*Math.PI)%(2*Math.PI)-Math.PI;return new google.maps.LatLng(a.toDeg(),d.toDeg())}}if(typeof(google.maps.LatLng.getLatLngBounds)==="undefined"){google.maps.LatLng.prototype.getLatLngBounds=function(a){var d=this.pointAtAngleWithRadius(45,a);var c=this.pointAtAngleWithRadius(225,a);var b=new google.maps.LatLngBounds(c,d);return b}}if(typeof(google.maps.LatLngBounds.expandBy)==="undefined"){google.maps.LatLngBounds.prototype.expandBy=function(a){var d=this.getNorthEast().pointAtAngleWithRadius(45,a);var c=this.getSouthWest().pointAtAngleWithRadius(225,a);var b=new google.maps.LatLngBounds(c,d);return b}}if(typeof(google.maps.Map.everyInfoWindow)==="undefined"){google.maps.Map.prototype.everyInfoWindow=[]}if(typeof(google.maps.Map.allMarkers)==="undefined"){google.maps.Map.prototype.allMarkers=[]}if(typeof(google.maps.Map.allCircles)==="undefined"){google.maps.Map.prototype.allCircles=[]}if(typeof(google.maps.Map.addMarker)==="undefined"){google.maps.Map.prototype.addMarker=function(a){a.setMap(this);this.allMarkers.push(a)}}if(typeof(google.maps.Map.clearMarkers)==="undefined"){google.maps.Map.prototype.clearMarkers=function(){if(this.allMarkers){for(var a=0;a<this.allMarkers.length;a++){this.allMarkers[a].setMap(null)}}this.allMarkers=[]}}if(typeof(google.maps.Map.clearCircles)==="undefined"){google.maps.Map.prototype.clearCircles=function(){if(this.allCircles){for(var a=0;a<this.allCircles.length;a++){this.allCircles[a].setMap(null)}}this.allCircles=[]}}if(typeof(google.maps.Map.addCircle)==="undefined"){google.maps.Map.prototype.addCircle=function(a){a.setMap(this);this.allCircles.push(a)}}if(typeof(google.maps.Map.addInfoWindow)==="undefined"){google.maps.Map.prototype.addInfoWindow=function(b,a){var c=this;google.maps.event.addListener(a,"click",function(){for(var d=0;d<c.everyInfoWindow.length;d++){c.everyInfoWindow[d].close()}b.open(c,a)});google.maps.event.addListener(this,"click",function(){b.close()});this.everyInfoWindow.push(b)}}if(typeof(Number.prototype.toRad)==="undefined"){Number.prototype.toRad=function(){return this*Math.PI/180}}if(typeof(Number.prototype.toDeg)==="undefined"){Number.prototype.toDeg=function(){return this*180/Math.PI}}var PlaceTypes={capitalize:function(d,a){if(d.length==2){var b=d.split("");if(PlaceTypes.Vowels.indexOf(b[0])==-1&&PlaceTypes.Vowels.indexOf(b[1])==-1){return d.toUpperCase()}else{return d.toLowerCase()}}if(PlaceTypes.WordsNotToCapitalize.indexOf(d)==-1||a==0){var c=d.substring(0,1).toUpperCase()+d.substring(1);return c}},getPlaceTypesAsHuman:function(){var c=[];for(var a=0;a<PlaceTypes.PlaceTypes.length;a++){c.push(PlaceTypes.underscoredToHuman(PlaceTypes.PlaceTypes[a]))}for(var b in PlaceTypes.Aliases){c.push(PlaceTypes.underscoredToHuman(b))}return c},underscoredToHuman:function(d){var c=d.split("_");var b=[];for(var a=0;a<c.length;a++){b.push(PlaceTypes.capitalize(c[a],a))}return b.join(" ")},getActualTypeIfAlias:function(a){if(typeof(PlaceTypes.Aliases[a])=="undefined"){return a}return PlaceTypes.Aliases[a]}};PlaceTypes.Vowels=["a","e","i","o","u"];PlaceTypes.WordsNotToCapitalize=["of","the","a","an","it"];PlaceTypes.Aliases={petrol_station:"gas_station",booze_station:"liquor_store",coffee_shop:"cafe",shopping_centre:"shopping_mall",bike_shop:"bicycle_store"};PlaceTypes.PlaceTypes=["accounting","airport","amusement_park","aquarium","art_gallery","atm","bakery","bank","bar","beauty_salon","bicycle_store","book_store","bowling_alley","bus_station","cafe","campground","car_dealer","car_rental","car_repair","car_wash","casino","cemetery","church","city_hall","clothing_store","convenience_store","courthouse","dentist","department_store","doctor","electrician","electronics_store","embassy","establishment","finance","fire_station","florist","food","funeral_home","furniture_store","gas_station","general_contractor","geocode","grocery_or_supermarket","gym","hair_care","hardware_store","health","hindu_temple","home_goods_store","hospital","insurance_agency","jewelry_store","laundry","lawyer","library","liquor_store","local_government_office","locksmith","lodging","meal_delivery","meal_takeaway","mosque","movie_rental","movie_theater","moving_company","museum","night_club","painter","park","parking","pet_store","pharmacy","physiotherapist","place_of_worship","plumber","police","post_office","real_estate_agency","restaurant","roofing_contractor","rv_park","school","shoe_store","shopping_mall","spa","stadium","storage","store","subway_station","synagogue","taxi_stand","train_station","travel_agency","university","veterinary_care","zoo"];var InfoWindowHelpers={getInfoWindowFor:function(b){var a="";for(var d=0;d<b.types.length;d++){a+='<li class="label">'+PlaceTypes.underscoredToHuman(b.types[d])+"</li>"}var e='<div class="result-info-content"><h2 class="result-info-content-heading">'+b.name+'</h2><div class="result-info-content-body"><ul class="result-types">'+a+"</ul></div></div>";var c=new google.maps.InfoWindow({content:e});return c}};function Scroutenise(d){var a=new google.maps.places.PlacesService(d),c=new google.maps.DirectionsService(),b=new google.maps.DirectionsRenderer();b.setMap(d);return{map:d,searchService:a,directionsService:c,directionsDisplay:b,debugMode:false,searchMethod:"RADIUS",renderedResultReferences:[],OnSearchStart:function(e){this.onSearchStart=e},OnSearchStep:function(e){this.onSearchStep=e},OnSearchEnd:function(e){this.onSearchEnd=e},addMarkerFromPlacesResult:function(e){if(this.renderedResultReferences.indexOf(e.id)==-1){var g=new google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng()),f=new google.maps.Marker({position:g,title:e.name});this.map.addInfoWindow(InfoWindowHelpers.getInfoWindowFor(e),f);this.map.addMarker(f);this.renderedResultReferences.push(e.id)}},clearResults:function(){this.map.clearMarkers();this.renderedResultReferences=[]},searchAroundPoint:function(i,f,e,g,j){var h={location:i,radius:e};if(typeof f.types!=="undefined"){h.types=f.types}if(typeof f.name!=="undefined"){h.name=f.name}this.searchService.search(h,j)},getDirections:function(k,h,g,f,e){var i=this,j={origin:k,destination:h,provideRouteAlternatives:false,travelMode:e,unitSystem:google.maps.UnitSystem.METRIC};this.map.clearMarkers();this.map.clearCircles();this.clearResults();if(typeof(this.onSearchStart)!="undefined"){this.onSearchStart()}i.directionsService.route(j,function(u,n){if(n==google.maps.DirectionsStatus.OK){i.directionsDisplay.setDirections(u);var l=DirectionsRouteHelpers.getPathAsLatLngArray(u,f/2),q=u.routes[0].bounds,t;t=q.expandBy(f);var p=[],s,o,m,r=0;for(o=0;o<l.length;o++){i.searchAroundPoint(l[o],g,f,i.searchService,function(v,w){if(w==google.maps.places.PlacesServiceStatus.OK){if(typeof s==="undefined"){s=w}p=p.concat(v);for(m=0;m<v.length;m++){i.addMarkerFromPlacesResult(v[m])}if(typeof(i.onSearchStep)!="undefined"){i.onSearchStep(1,1)}}else{s=w}r+=1;if(typeof i.onSearchStep!="undefined"){i.onSearchStep(r,l.length)}if(r==l.length&&typeof(i.onSearchEnd)!="undefined"){i.onSearchEnd(p,s,t)}});if(this.debugMode==true){i.map.addCircle(new google.maps.Circle({center:l[o],radius:f}))}}}})}}};